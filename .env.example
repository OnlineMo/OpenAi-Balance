# OpenAI Balance 配置示例
# 复制此文件为 .env 并根据需要修改配置

# 数据库配置（默认使用 SQLite，无需额外配置）
DATABASE_TYPE=sqlite
SQLITE_DATABASE=default_db
# 如需使用 MySQL，取消下面的注释并配置
#DATABASE_TYPE=mysql
#MYSQL_HOST=localhost
#MYSQL_PORT=3306
#MYSQL_USER=openai
#MYSQL_PASSWORD=change_me
#MYSQL_DATABASE=default_db

# API 密钥配置
# API_KEYS: 上游 OpenAI API 密钥列表，用于负载均衡
API_KEYS=["sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]
# ALLOWED_TOKENS: 允许访问此代理的令牌列表
ALLOWED_TOKENS=["sk-123456"]
# AUTH_TOKEN: 管理员令牌，用于访问管理页面
AUTH_TOKEN=sk-123456
# MODEL_REQUEST_KEY: 用于获取模型列表的专用 key（可选，不设置则使用 ALLOWED_TOKENS 中的第一个）
MODEL_REQUEST_KEY=

# 上游 API 配置
# BASE_URL: 上游 OpenAI 兼容 API 的基础 URL
BASE_URL=https://api.openai.com/v1
# TEST_MODEL: 用于测试密钥可用性的模型
TEST_MODEL=gpt-4o-mini

# 模型过滤
# FILTERED_MODELS: 需要过滤（禁用）的模型列表
FILTERED_MODELS=[]

# 失败处理配置
# MAX_FAILURES: 单个密钥允许的最大失败次数，超过后将被禁用
MAX_FAILURES=3
# MAX_RETRIES: API 请求失败时的最大重试次数
MAX_RETRIES=3
# TIME_OUT: 请求超时时间（秒）
TIME_OUT=300

# 定时任务配置
# CHECK_INTERVAL_HOURS: 检查失败密钥的间隔（小时），设置为 0 禁用
CHECK_INTERVAL_HOURS=1
# TIMEZONE: 应用程序使用的时区
TIMEZONE=Asia/Shanghai

# 代理配置
# PROXIES: 代理服务器列表，支持 http 和 socks5
# 示例: PROXIES=["http://user:pass@host:port", "socks5://host:port"]
PROXIES=[]
# PROXIES_USE_CONSISTENCY_HASH_BY_API_KEY: 是否对同一个 API_KEY 使用固定的代理
PROXIES_USE_CONSISTENCY_HASH_BY_API_KEY=true

# 日志配置
# LOG_LEVEL: 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# ERROR_LOG_RECORD_REQUEST_BODY: 是否记录错误日志的请求体（可能包含敏感信息）
ERROR_LOG_RECORD_REQUEST_BODY=false
# AUTO_DELETE_ERROR_LOGS_ENABLED: 是否开启自动删除错误日志
AUTO_DELETE_ERROR_LOGS_ENABLED=true
# AUTO_DELETE_ERROR_LOGS_DAYS: 自动删除多少天前的错误日志 (1, 7, 30)
AUTO_DELETE_ERROR_LOGS_DAYS=7
# AUTO_DELETE_REQUEST_LOGS_ENABLED: 是否开启自动删除请求日志
AUTO_DELETE_REQUEST_LOGS_ENABLED=false
# AUTO_DELETE_REQUEST_LOGS_DAYS: 自动删除多少天前的请求日志 (1, 7, 30)
AUTO_DELETE_REQUEST_LOGS_DAYS=30

# 多提供商配置
# DEFAULT_PROVIDER: 默认提供商名称，使用 /v1/* 路径时使用此提供商
# 如果设置为 "default" 或未配置，将自动使用第一个启用的提供商
DEFAULT_PROVIDER=default
# PROVIDERS_CONFIG: 提供商配置列表（JSON 格式）
# 示例: PROVIDERS_CONFIG=[{"name":"deepseek","path":"deepseek","base_url":"https://api.deepseek.com/v1","api_keys":["sk-xxx"],"enabled":true}]
PROVIDERS_CONFIG=[]
